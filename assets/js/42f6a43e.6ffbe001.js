"use strict";(self.webpackChunkblueskysdk=self.webpackChunkblueskysdk||[]).push([[242],{3225:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var a=t(528),s=t(4848),i=t(8453);const o={title:"Post Creation with Externals in BlueSky Social Network using BlueSky PHP SDK",description:"Learn how to create posts using externals in the BlueSky PHP SDK.",authors:[{key:"shahmal1yev"}],slug:"creating-posts-on-bluesky-with-externals-using-blueskysdk",image:"./img.png"},l=void 0,r={image:t(314).A,authorsImageUrls:[void 0]},d=[{value:"Authentication",id:"authentication",level:2},{value:"Adding External Links",id:"adding-external-links",level:2},{value:"Uploading a Thumbnail Image",id:"uploading-a-thumbnail-image",level:3},{value:"Creating the External Content",id:"creating-the-external-content",level:3},{value:"Creating the Post",id:"creating-the-post",level:3},{value:"Adding Images",id:"adding-images",level:2},{value:"Creating an Image Collection",id:"creating-an-image-collection",level:3},{value:"Adding Images to the Post",id:"adding-images-to-the-post",level:3},{value:"Sharing the Post",id:"sharing-the-post",level:2},{value:"Conclusion",id:"conclusion",level:2}];function h(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Want to create engaging and interactive posts on the Bluesky network? With the BlueSky PHP SDK, it\u2019s effortless. By\nadding external content (externals) and images, you can enrich your posts and make them more captivating."}),"\n",(0,s.jsx)(n.p,{children:"In this post, you'll learn how to authenticate with the SDK and embed external links, thumbnails, and images into your\nposts."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsx)(n.p,{children:"The first step to accessing the Bluesky network is authentication. Use the SDK to log in with your username and password:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",metastring:'title="Authenticate with Your Credentials"',children:"<?php\n\nuse Atproto\\Client;\n\n$client = new Client();\n$client->authenticate('handle', 'password'); // Replace with your Bluesky username and password\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once authenticated, you're ready to start creating posts! \ud83d\ude80"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"adding-external-links",children:"Adding External Links"}),"\n",(0,s.jsx)(n.p,{children:"Want to add external links, titles, descriptions, and even thumbnails to your posts? The SDK makes this simple. For\ninstance, if you want to link to your personal blog or website, here's how you can do it:"}),"\n",(0,s.jsx)(n.h3,{id:"uploading-a-thumbnail-image",children:"Uploading a Thumbnail Image"}),"\n",(0,s.jsx)(n.p,{children:"Upload an image to be used as a thumbnail for the external content:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Post image",src:t(5765).A+"",width:"1024",height:"1024"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\n$uploadedBlob = $client->com()->atproto()->repo()->uploadBlob()->forge()\n    ->token($client->authenticated()->accessJwt())\n    ->blob('path_of_image') // File path of the image to be uploaded\n    ->send()\n    ->blob();\n"})}),"\n",(0,s.jsx)(n.p,{children:"This uploaded image will serve as the thumbnail for your external content."}),"\n",(0,s.jsx)(n.h3,{id:"creating-the-external-content",children:"Creating the External Content"}),"\n",(0,s.jsx)(n.p,{children:"Add the URI, title, and description for the link, and use the uploaded image as the thumbnail:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\n$external = $client->app()->bsky()->embed()->external()->forge(\n    'https://shahmal1yev.dev', // URI\n    'Eldar Shahmaliyev\\'s blog', // Title\n    'A personal blog about cybersecurity and development.' // Description\n)->thumb($uploadedBlob); // thumbnail\n"})}),"\n",(0,s.jsx)(n.h3,{id:"creating-the-post",children:"Creating the Post"}),"\n",(0,s.jsx)(n.p,{children:"Add the prepared external content to your post and make it ready to share:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\n$post = $client->app()->bsky()->feed()->post()->forge()\n    ->text('Come to my blog: ')\n    ->link('https://shahmal1yev.dev', 'click here and read the posts')\n    ->embed($external);\n"})}),"\n",(0,s.jsx)(n.p,{children:"With these steps, you\u2019re all set to add captivating external links to your Bluesky posts."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"adding-images",children:"Adding Images"}),"\n",(0,s.jsxs)(n.p,{children:["Want to include one or multiple images in your posts? The SDK allows you to use the ",(0,s.jsx)(n.code,{children:"ImageCollection"})," object for\nthis purpose."]}),"\n",(0,s.jsx)(n.h3,{id:"creating-an-image-collection",children:"Creating an Image Collection"}),"\n",(0,s.jsxs)(n.p,{children:["First, upload the image and add it to an ",(0,s.jsx)(n.code,{children:"ImageCollection"})," object:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\nuse Atproto\\Lexicons\\App\\Bsky\\Embed\\Collections\\ImageCollection;\nuse Atproto\\Lexicons\\App\\Bsky\\Embed\\Image;\n\n$uploadedBlob = $client->com()->atproto()->repo()->uploadBlob()->forge()\n    ->token($client->authenticated()->accessJwt())\n    ->blob('path_of_image')\n    ->send()\n    ->blob();\n\n$images = new ImageCollection([\n    new Image(\n        $uploadedBlob, // Blob\n        'Alt text' // Image description\n    )\n]);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"adding-images-to-the-post",children:"Adding Images to the Post"}),"\n",(0,s.jsx)(n.p,{children:"Attach the image collection to your post and get it ready to share:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\n$post = $client->app()->bsky()->feed()->post()->forge()\n    ->text('Check out my gallery: ')\n    ->embed($images);\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"sharing-the-post",children:"Sharing the Post"}),"\n",(0,s.jsx)(n.p,{children:"The final step is to share your post on the Bluesky network. \ud83c\udf89"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"<?php\n\n$createRecord = $client->com()->atproto()->repo()->createRecord()->forge()\n    ->record($post)\n    ->repo($client->authenticated()->did())\n    ->collection($post->nsid());\n\n$response = $createRecord->send();\n\necho $response->uri();\n"})}),"\n",(0,s.jsx)(n.p,{children:"Once the process is complete, your post will be live on the Bluesky network!"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsx)(n.p,{children:"Creating posts with the BlueSky PHP SDK is straightforward and offers a variety of options. Adding external content\nand enriching posts with images is a great way to capture your audience\u2019s attention."})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},314:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/img-6cc8029c29f22d25c66409e05559dbf8.png"},5765:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/post-image-7c7e28c67367a1ee63c9e981786fd4e5.png"},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var a=t(6540);const s={},i=a.createContext(s);function o(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(i.Provider,{value:n},e.children)}},528:e=>{e.exports=JSON.parse('{"permalink":"/blog/creating-posts-on-bluesky-with-externals-using-blueskysdk","editUrl":"https://github.com/shahmal1yev/blueskysdkdocs/tree/main/blog/2024-12-08-post-creation-with-externals-bluesky-php-sdk/index.md","source":"@site/blog/2024-12-08-post-creation-with-externals-bluesky-php-sdk/index.md","title":"Post Creation with Externals in BlueSky Social Network using BlueSky PHP SDK","description":"Learn how to create posts using externals in the BlueSky PHP SDK.","date":"2024-12-08T00:00:00.000Z","tags":[],"readingTime":2.46,"hasTruncateMarker":true,"authors":[{"name":"Eldar Shahmaliyev","title":"Maintainer of BlueSky SDK","url":"https://shahmal1yev.dev/about","socials":{},"imageURL":"https://github.com/shahmal1yev.png","key":"shahmal1yev","page":null}],"frontMatter":{"title":"Post Creation with Externals in BlueSky Social Network using BlueSky PHP SDK","description":"Learn how to create posts using externals in the BlueSky PHP SDK.","authors":[{"key":"shahmal1yev"}],"slug":"creating-posts-on-bluesky-with-externals-using-blueskysdk","image":"./img.png"},"unlisted":false,"nextItem":{"title":"How to Create and Share Posts on BlueSky Using BlueSky SDK","permalink":"/blog/creating-posts-on-bluesky-with-blueskysdk"}}')}}]);